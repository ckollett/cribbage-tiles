:root {
    --atomic-unit:min(.3vw,.4vh);
    --board-width:calc(var(--atomic-unit)*200);
    --header-height:calc(var(--atomic-unit)*13);
    --tile-font-size:calc(var(--atomic-unit)*8);
    --tile-font-stroke-width:calc(var(--tile-font-size)/10);
    --player-color:black;
    --opponent-color:white;
}

@font-face {
  font-family: 'katahdin';
  src: url('/static/fonts/katahdin-round.regular.otf');
}

html,body {
    height:100%;
    width:100%;
}

body {
    font-family: katahdin, sans-serif;
    margin:0;
}

div {
    -moz-user-select: none;
    -khtml-user-select: none;
    -webkit-user-select: none;
    -ms-user-select: none;
    user-select: none;
}

div#header{
    display:block;
    top:0;
    left:0;
    width:100%;
    color:black;
    text-align:center;
    font-size:calc(var(--header-height)*.9);
    padding-top:10px;
}

div#header img {
    transform:translate(0,4px);
    width:var(--header-height);
}

div#main {
    position:relative;
}

div#history {
    position:absolute;
    top:0;
    bottom:0;
    right:0;
    width:100px;
}

div#container {
    position:relative;
    width:var(--board-width);
    height:calc(var(--board-width)*.7);
    margin-left:auto;
    margin-right:auto;
    margin-top:calc(var(--atomic-unit)*5);
}

div#scoreboardarea {
    width:var(--board-width);
    margin-left:auto;
    margin-right:auto;
}

div#game {
    width:100%;
    height:100%;
}

/* ***** Tile ***** */
div.content {
    position:absolute;
    top:0;
    bottom:0;
    left:0;
    right:0;
}

div.value {
    color: transparent;
	font-size: var(--tile-font-size);
	-webkit-text-stroke-width: var(--tile-font-stroke-width);
    -webkit-text-stroke-color: black;
    position:absolute;
    right:4%;
    top:2%;
}

div.tent {
    background: url('/static/images/tent.svg');
}
div.mug {
    background: url('/static/images/mug.svg');
}
div.campfire {
    background: url('/static/images/campfire.svg');
}
div.sleepingbag {
    background: url('/static/images/sleepingbag.svg');
}

div#deck {
    top:33%;
    left:0;
}

div#deck div.tilesides div.tile {
    box-shadow:calc(var(--atomic-unit)*-1) var(--atomic-unit);
}    

div.tilecontainer {
    perspective: 1000px;
    position:absolute;
    width:13%;
    height:25%;
    box-sizing: border-box;
    border:0;
    transition: left 0.5s ease,top 0.5s ease;
    top:33%;
    left:0;
}

div.tilesides {
    position:absolute;
    top:0;
    left:0;
    width:100%;
    height:100%;
    transition: transform 0.5s;
    transform-style:preserve-3d;
    background-color:transparent;
}

div.tilefront {
    transform: rotateY(0deg);
    z-index:10;
    background-size:85%;
    background-position: 50% 65%;
}

div.tileback {
    transform: rotateY(-180deg);
    z-index:5;
    border-color:#999999;
    background: url('/static/images/mountains_2.svg');    
    background-size:75%;
    background-position:50%;
}

div.tile {
    position:absolute;
    top:0;
    left:0;
    width:100%;
    height:100%;
    opacity:1;
    border:var(--atomic-unit) solid black;
    border-radius:calc(var(--atomic-unit)*4);
    background-repeat: no-repeat;
    background-color:white;
    backface-visibility: hidden;
    box-sizing: border-box;
}

div.tilecontainer.flip div.tilesides {
    transform: rotateY(-180deg);
}

/* front pane, placed above back */
div.front {
	z-index: 10;
	/* for firefox 31 */
	transform: rotateY(0deg);
}

/* back, initially hidden pane */
div.back {
	transform: rotateY(180deg);
}

div#cribarrow {
    position:absolute;
    /* 100 - 2*column - tile width = 100-28-13 = 59*/
    left:59%;
    top:33%;
    opacity:1;
    transition-delay:0s;
    transition: opacity 0s linear;
    transition-delay:0.5s;
}

div#cribarrow.hidden {
    display:block;
    opacity:0;
    transition: opacity 0s linear;
    transition-delay:0s;
}

img#arrow {
    position:absolute;
    max-height:70%;
    max-width:70%;
    top:0;
    left:0;
    bottom:0;
    right:0;
    margin:auto;
}



div#messagecontainer {
    position:absolute;
    left:25%;
    right:25%;
    top:22%;
    bottom:22%;
    z-index:20;
    background-color:white;
    display:none;    
}

div#message {
    position:absolute;
    left:0;
    right:0;
    top:0;
    bottom:0;
}

div#message.ackbar {
    background: url('/static/images/death-star.svg');    
    background-size:50%;
    background-position:50% 70%;
    background-repeat: no-repeat;
    text-align:center;
    font-size:larger;
    padding-top:calc(var(--atomic-unit)*5);
    border: calc(var(--atomic-unit)*2) solid black;
    border-radius: calc(var(--atomic-unit)*5);
}

.rejected {
    animation:shake 1s;
}

@keyframes shake {
    0% { transform: rotate(0deg); }
   30% { transform: rotate(-5deg); }
   70% { transform: rotate(5deg); }
  100% { transform: rotate(0deg); }
}

div.label {
    position:absolute;
    display:inline-block;
    vertical-align:top;
    background-color:black;
    color:white;
    text-align:center;
    height: var(--tile-font-size);
    font-size: calc(var(--tile-font-size)*.75);
    /* Ugh, this calculation...
     * Since we're rotating the label we want its width to match
     * the tile height, which is 25% of 70% of var(--board-width).
     */
    width: calc(var(--board-width)*.175);
    border-radius: 4px;
    line-height: calc(var(--tile-font-size));    
}

div.leftlabel {
    transform: rotate(-90deg) translateX(calc(var(--board-width)*-.175));
    transform-origin: top left;
    left: calc(var(--tile-font-size)*-1.3);
    transition: top 1s ease;    
}

div.playerDeal {
    top:0;
}

div.opponentDeal {
    top:66%;
}

div.hidden {
    display:none;
}